title: Ponta da Fruta
views:
  - title: ''
    id: 1
    path: sala-de-estar
    icon: mdi:sofa
    theme: clear
    badges: []
    cards:
      - type: custom:mod-card
        card:
          type: custom:config-template-card
          variables:
            PLAYER: |
              states['media_player.sala_de_estar_lg'].state != 'on' ? 
                'NONE' : 
                ( states['media_player.sala_de_estar_lg'].attributes.source != 'MXQ' ?
                  'lg' :
                  ( states['media_player.sala_de_estar_shield'].attributes.source != 'Kodi' ? 
                    'google':'kodi' ) )
            CONTEUDO: >
              states['media_player.sala_de_estar_kodi'].attributes.media_content_type
            ESTADO: |-
              states['media_player.sala_de_estar_lg'].state != 'on' ? 
               'NONE' : 
               ( states['media_player.sala_de_estar_lg'].attributes.source != 'MXQ' ?
                 states['media_player.sala_de_estar_lg' ].state :
                 ( states['media_player.sala_de_estar_shield' ].attributes.source != 'Kodi' ? 
                   states['media_player.sala_de_estar_shield' ].state :
                   states['media_player.sala_de_estar_kodi' ].state ) )
            HIDE_LG: >-
              states['media_player.sala_de_estar_lg'].attributes.source ==
              'MXQ' 

              || states['media_player.sala_de_estar_lg'].state == 'off' ?
                  '[[[return 1]]]':'[[[return 0]]]'
            HIDE_SHIELD: >-
              states['media_player.sala_de_estar_lg'].attributes.source != 'MXQ'

              || states['media_player.sala_de_estar_lg'].state == 'off' 

              || states['media_player.sala_de_estar_shield'].attributes.source
              == 'Kodi' ?
                  '[[[return 1]]]':'[[[return 0]]]'
            HIDE_KODI: >-
              states['media_player.sala_de_estar_lg'].attributes.source !=
              'MXQ' 

              || states['media_player.sala_de_estar_lg'].state == 'off' 

              || states['media_player.sala_de_estar_shield'].attributes.source
              != 'Kodi' ?
                  '[[[return 1]]]':'[[[return 0]]]'
          entities:
            - media_player.sala_de_estar_lg
            - media_player.sala_de_estar_kodi
            - media_player.sala_de_estar_shield
          card:
            type: custom:homekit-card
            enableColumns: true
            tileHoldAnimation: true
            style: |
              :host {
                  --tile-background: rgba(255, 255, 255, 0.3);
                  --tile-border-radius: 10px;
                  --tile-on-background: rgba(255, 255, 255, 0.7);
                  --tile-name-text-color: rgba(0, 0, 0, 0.7);
                  --tile-on-name-text-color: rgba(0, 0, 0, 1);
                  --tile-state-text-color: rgba(0, 0, 0, 0.7);
                  --tile-on-state-text-color: rgba(0, 0, 0, 1);
                  --tile-state-changed-text-color: rgb(134, 134, 134);
                  --tile-unavailable-state-text-color: rgba(255, 0, 0, 1);
                  --tile-value-text-color: rgba(255, 0, 0, 1);
                  --tile-icon-color: rgba(0, 0, 0, 0.7);
                  --tile-on-icon-color: #0a0a6b;
                  --min-header-height: 80px;
                  --tile-icon-size: 20px;
                  --tile-image-radius: 100%
                  --slider-width: 120px;
                  --slider-height: 120px;
                  --tile-width-mobile: 90px;
                  --tile-height-mobile: 90px;
                  --tile-width: 90px;
                  --tile-height: 90px;
               }
              .fundo {
                 background-image: url(http://192.168.1.230:8123/local/b.jpg)!important;
                 background-size: cover!important;
                 background-repeat: no-repeat!important;
                 background-position: center!important;

               }
               .icon {
                  display: block;
                  margin-left: auto;
                  margin-right: auto;
                  top: 50%;
                  left: 50%;
                  transform: translate(-50%, -50%);
                  position: absolute;
                  }
              .transparente {
                 background-color: transparent!important;
                 border: 0!important;
                 box-shadow: none!important;
              }
              .transparente .button-inner {
                flex-direction: column!important;
              }
              .transparente .name {
                display: none!important; 
              }
              .card-title {
                color: #0a0a6b;
              }
            rows:
              - row: 1
                columns:
                  - column: 1
                    tileOnRow: 3
                    entities:
                      - entities:
                          - custom: Power
                            icon: mdi:power
                            tileOnRow: 3
                            wider: true
                            widerSize: 3
                            halfheight: true
                            tap_action:
                              action: call-service
                              service: script.sala_de_estar_off
                              haptic: success
                          - card: conditional
                            conditionalClass: '[[[return "fundo";]]]'
                            noPadding: true
                            wider: true
                            widerSize: 3
                            higher: true
                            higherSize: |-
                              ${ PLAYER   == "lg"     ? 1 :
                                 PLAYER   == "shield" ? 2 :
                                 CONTEUDO == "music"  ? 3 : 2 }
                            cardOptions:
                              conditions:
                                - entity: media_player.sala_de_estar_lg
                                  state: 'on'
                              card:
                                type: custom:mini-media-player
                                entity: ${"media_player.sala_de_estar_" + PLAYER}
                                artwork: |-
                                  ${ PLAYER   == "lg"     ? "default"        :
                                     PLAYER   == "shield" ? "full-cover"     :
                                     CONTEUDO == "music"  ? "full-cover-fit" : "full-cover" }
                                hide:
                                  play_stop: false
                                  volume: false
                                  progress: false
                                style: >
                                  {%set a = '230px;' %}

                                  {%set p = 'media_player.sala_de_estar_' %} 

                                  {%if states[p+'lg'].state == 'on' %} 

                                  {% if states[p+'lg'].attributes.source  ==
                                  'MXQ' %}

                                  {%  if states[p+'shield'].attributes.source ==
                                  'Kodi' %} 

                                  {%   if
                                  states[p+'kodi'].attributes.media_content_type
                                  == "music" %} {%    set a = "349px;" %} {%  
                                  else %}

                                  {%    set a = "230px;" %}

                                  {%   endif %}

                                  {%  else %}

                                  {%   set a = "230px;" %}

                                  {%  endif %}

                                  {% else %}

                                  {% set a = "120px;" %}

                                  {% endif %}

                                  {%else %}

                                  {% set a = "100%;" %}

                                  {%endif %}

                                  ha-card { 
                                    height: {% print a %}
                                    --ha-card-background: rgba(0, 128, 0, 0.3)!important;
                                    box-shadow: inset 10px  11px 8px -10px #CCC,
                                                inset 10px -11px 8px -10px #CCC;!important; 
                                    position: relative;
                                    font-size: 1vw!important; 
                                    image; 
                                    overflow:hidden!important; 
                                  }  
                  - column: 1
                    tileOnRow: 3
                    entities:
                      - entities:
                          - custom: LG HOME
                            icon: mdi:home
                            hide: ${HIDE_LG}
                            conditionalClass: '[[[return "transparente";]]]'
                            tap_action:
                              action: call-service
                              haptic: light
                              service: webostv.button
                              service_data:
                                entity_id: media_player.sala_de_estar_lg
                                button: HOME
                          - custom: LG UP
                            icon: mdi:arrow-up-circle-outline
                            hide: ${HIDE_LG}
                            tap_action:
                              action: call-service
                              haptic: light
                              service: webostv.button
                              service_data:
                                entity_id: media_player.sala_de_estar_lg
                                button: UP
                          - custom: LG MENU
                            icon: mdi:menu
                            hide: ${HIDE_LG}
                            conditionalClass: '[[[return "transparente";]]]'
                            tap_action:
                              haptic: light
                              action: call-service
                              service: webostv.button
                              service_data:
                                entity_id: media_player.sala_de_estar_lg
                                button: MENU
                          - custom: LG LEFT
                            icon: mdi:arrow-left-circle-outline
                            hide: ${HIDE_LG}
                            tap_action:
                              action: call-service
                              haptic: light
                              service: webostv.button
                              service_data:
                                entity_id: media_player.sala_de_estar_lg
                                button: LEFT
                          - custom: LG ENTER
                            icon: mdi:television
                            hide: ${HIDE_LG}
                            tap_action:
                              action: call-service
                              haptic: light
                              service: webostv.button
                              service_data:
                                entity_id: media_player.sala_de_estar_lg
                                button: ENTER
                          - custom: LG RIGHT
                            icon: mdi:arrow-right-circle-outline
                            hide: ${HIDE_LG}
                            tap_action:
                              action: call-service
                              haptic: light
                              service: webostv.button
                              service_data:
                                entity_id: media_player.sala_de_estar_lg
                                button: RIGHT
                          - custom: LG BACK
                            icon: mdi:undo-variant
                            hide: ${HIDE_LG}
                            conditionalClass: '[[[return "transparente";]]]'
                            tap_action:
                              action: call-service
                              haptic: light
                              service: webostv.button
                              service_data:
                                entity_id: media_player.sala_de_estar_lg
                                button: BACK
                          - custom: LG DOWN
                            icon: mdi:arrow-down-circle-outline
                            hide: ${HIDE_LG}
                            tap_action:
                              action: call-service
                              haptic: light
                              service: webostv.button
                              service_data:
                                entity_id: media_player.sala_de_estar_lg
                                button: DOWN
                          - custom: LG INFO
                            icon: mdi:information-outline
                            hide: ${HIDE_LG}
                            conditionalClass: '[[[return "transparente";]]]'
                            tap_action:
                              action: call-service
                              haptic: light
                              service: webostv.button
                              service_data:
                                entity_id: media_player.sala_de_estar_lg
                                button: INFO
                          - custom: KODI HOME
                            icon: mdi:home
                            hide: ${HIDE_KODI}
                            conditionalClass: '[[[return "transparente";]]]'
                            tap_action:
                              haptic: light
                              action: call-service
                              service: kodi.call_method
                              service_data:
                                entity_id: media_player.sala_de_estar_kodi
                                method: Input.Home
                          - custom: KODI UP
                            icon: mdi:arrow-up-circle-outline
                            hide: ${HIDE_KODI}
                            tap_action:
                              haptic: light
                              action: call-service
                              service: kodi.call_method
                              service_data:
                                entity_id: media_player.sala_de_estar_kodi
                                method: Input.Up
                          - custom: KODI OSD
                            icon: mdi:menu
                            hide: ${HIDE_KODI}
                            conditionalClass: '[[[return "transparente";]]]'
                            tap_action:
                              action: call-service
                              haptic: light
                              service: kodi.call_method
                              service_data:
                                entity_id: media_player.sala_de_estar_kodi
                                method: Input.ExecuteAction
                                action: osd
                            hold_action:
                              action: call-service
                              service: kodi.call_method
                              haptic: light
                              service_data:
                                entity_id: media_player.sala_de_estar_kodi
                                method: Input.ContextMenu
                          - custom: KODI LEFT
                            icon: mdi:arrow-left-circle-outline
                            hide: ${HIDE_KODI}
                            tap_action:
                              haptic: light
                              action: call-service
                              service: kodi.call_method
                              service_data:
                                entity_id: media_player.sala_de_estar_kodi
                                method: Input.Left
                          - custom: KODI ENTER
                            icon: mdi:kodi
                            hide: ${HIDE_KODI}
                            tap_action:
                              haptic: light
                              action: call-service
                              service: kodi.call_method
                              service_data:
                                entity_id: media_player.sala_de_estar_kodi
                                method: Input.Select
                          - custom: KODI RIGHT
                            icon: mdi:arrow-right-circle-outline
                            hide: ${HIDE_KODI}
                            tap_action:
                              haptic: light
                              action: call-service
                              service: kodi.call_method
                              service_data:
                                entity_id: media_player.sala_de_estar_kodi
                                method: Input.Right
                          - custom: KODI BACK
                            icon: mdi:undo-variant
                            hide: ${HIDE_KODI}
                            conditionalClass: '[[[return "transparente";]]]'
                            tap_action:
                              haptic: light
                              action: call-service
                              service: kodi.call_method
                              service_data:
                                entity_id: media_player.sala_de_estar_kodi
                                method: Input.Back
                          - custom: KODI DOWN
                            icon: mdi:arrow-down-circle-outline
                            hide: ${HIDE_KODI}
                            tap_action:
                              haptic: light
                              action: call-service
                              service: kodi.call_method
                              service_data:
                                entity_id: media_player.sala_de_estar_kodi
                                method: Input.Down
                          - custom: KODI INFO
                            icon: mdi:information-outline
                            hide: ${HIDE_KODI}
                            conditionalClass: '[[[return "transparente";]]]'
                            tap_action:
                              haptic: light
                              action: call-service
                              service: kodi.call_method
                              service_data:
                                entity_id: media_player.sala_de_estar_kodi
                                method: Input.Info
                          - custom: SHIELD HOME
                            icon: mdi:home
                            hide: ${HIDE_SHIELD}
                            conditionalClass: '[[[return "transparente";]]]'
                            tap_action:
                              haptic: light
                              action: call-service
                              service: androidtv.adb_command
                              service_data:
                                entity_id: media_player.sala_de_estar_shield
                                command: HOME
                          - custom: SHIELD UP
                            icon: mdi:arrow-up-circle-outline
                            hide: ${HIDE_SHIELD}
                            tap_action:
                              haptic: light
                              action: call-service
                              service: androidtv.adb_command
                              service_data:
                                entity_id: media_player.sala_de_estar_shield
                                command: UP
                          - custom: SHIELD MENU
                            icon: mdi:menu
                            hide: ${HIDE_SHIELD}
                            conditionalClass: '[[[return "transparente";]]]'
                            tap_action:
                              action: call-service
                              haptic: light
                              service: androidtv.adb_command
                              service_data:
                                entity_id: media_player.sala_de_estar_shield
                                command: MENU
                            hold_action:
                              action: call-service
                              service: androidtv.adb_command
                              haptic: light
                              service_data:
                                entity_id: media_player.sala_de_estar_shield
                                command: Input.ContextMenu
                          - custom: SHIELD LEFT
                            icon: mdi:arrow-left-circle-outline
                            hide: ${HIDE_SHIELD}
                            tap_action:
                              haptic: light
                              action: call-service
                              service: androidtv.adb_command
                              service_data:
                                entity_id: media_player.sala_de_estar_shield
                                command: LEFT
                          - custom: SHIELD ENTER
                            icon: mdi:shield
                            hide: ${HIDE_SHIELD}
                            tap_action:
                              haptic: light
                              action: call-service
                              service: androidtv.adb_command
                              service_data:
                                entity_id: media_player.sala_de_estar_shield
                                command: CENTER
                          - custom: SHIELD RIGHT
                            icon: mdi:arrow-right-circle-outline
                            hide: ${HIDE_SHIELD}
                            tap_action:
                              haptic: light
                              action: call-service
                              service: androidtv.adb_command
                              service_data:
                                entity_id: media_player.sala_de_estar_shield
                                command: RIGHT
                          - custom: SHIELD BACK
                            icon: mdi:undo-variant
                            hide: ${HIDE_SHIELD}
                            conditionalClass: '[[[return "transparente";]]]'
                            tap_action:
                              haptic: light
                              action: call-service
                              service: androidtv.adb_command
                              service_data:
                                entity_id: media_player.sala_de_estar_shield
                                command: BACK
                          - custom: SHIELD DOWN
                            icon: mdi:arrow-down-circle-outline
                            hide: ${HIDE_SHIELD}
                            tap_action:
                              haptic: light
                              action: call-service
                              service: androidtv.adb_command
                              service_data:
                                entity_id: media_player.sala_de_estar_shield
                                command: DOWN
                          - custom: SHIELD SPACE
                            hide: ${HIDE_SHIELD}
                            conditionalClass: '[[[return "transparente";]]]'
      - type: vertical-stack
        cards:
          - type: custom:homekit-card
            enableColumns: true
            tileHoldAnimation: true
            style: |
              :host {
                  --tile-background: rgba(255, 255, 255, 0.1);
                  --tile-border-radius: 10px;
                  --tile-on-background: rgba(255, 255, 255, 0.5);
                  --tile-name-text-color: rgba(0, 0, 0, 0.7);
                  --tile-on-name-text-color: rgba(0, 0, 0, 1);
                  --tile-state-text-color: rgba(0, 0, 0, 0.7);
                  --tile-on-state-text-color: rgba(0, 0, 0, 1);
                  --tile-state-changed-text-color: rgb(134, 134, 134);
                  --tile-unavailable-state-text-color: rgba(255, 0, 0, 1);
                  --tile-value-text-color: rgba(255, 0, 0, 1);
                  --tile-icon-color: rgba(0, 0, 0, 0.7);
                  --tile-on-icon-color: #0a0a6b;
                  --min-header-height: 150px;
                  --tile-icon-size: 20px;
                  --tile-image-radius: 100%
                  --slider-width: 120px;
                  --slider-height: 120px;
                  --tile-width-mobile: 30px;
                  --tile-height-mobile: 85px;
                  --tile-width: 30px;
                  --tile-height: 85px;
               }
               .card-title {
                  color: #0a0a6b;
               }
            rows:
              - row: 1
                columns:
                  - column: 1
                    tileOnRow: 6
                    entities:
                      - title: Canais
                        entities:
                          - custom: KARAOKE
                            icon: mdi:speaker
                            conditionalClass: '[[[return "transparente";]]]'
                            halfheight: true
                            tap_action:
                              action: call-service
                              haptic: success
                              service: switch.toggle
                              service_data:
                                entity_id: switch.sonoff_1000177267
                          - custom: NET
                            icon: mdi:dot-net
                            conditionalClass: '[[[return "transparente";]]]'
                            halfheight: true
                            tap_action:
                              action: call-service
                              haptic: success
                              service: script.turn_on
                              service_data:
                                entity_id: script.sala_de_estar_net
                          - custom: APPLE
                            icon: mdi:apple
                            conditionalClass: '[[[return "transparente";]]]'
                            halfheight: true
                            tap_action:
                              action: call-service
                              haptic: success
                              service: script.turn_on
                              service_data:
                                entity_id: script.sala_de_estar_appletv
                          - custom: YOUTUBE
                            icon: mdi:youtube
                            conditionalClass: '[[[return "transparente";]]]'
                            halfheight: true
                            tap_action:
                              action: call-service
                              haptic: success
                              service: script.turn_on
                              service_data:
                                entity_id: script.sala_de_estar_youtube
                          - custom: KODI
                            icon: mdi:kodi
                            conditionalClass: '[[[return "transparente";]]]'
                            halfheight: true
                            tap_action:
                              action: call-service
                              haptic: success
                              service: script.turn_on
                              service_data:
                                entity_id: script.sala_de_estar_kodi
                            hold_action:
                              action: fire-dom-event
                              browser_mod:
                                command: popup
                                title: Kodi
                                card:
                                  type: custom:mini-media-player
                                  entity: media_player.sala_de_estar_kodi
                                  artwork: material
                          - custom: NETFLIX
                            icon: mdi:netflix
                            conditionalClass: '[[[return "transparente";]]]'
                            halfheight: true
                            tap_action:
                              action: call-service
                              haptic: success
                              service: script.turn_on
                              service_data:
                                entity_id: script.sala_de_estar_netflix
                            hold_action:
                              action: fire-dom-event
                              browser_mod:
                                command: popup
                                title: LG
                                card:
                                  type: custom:lg-remote-control
                                  entity: media_player.sala_de_estar_lg
                                  dimensions:
                                    scale: 0.98
                                    border_width: 0px
                                  colors:
                                    buttons: rgba(255,255,255,0.3)
                                    texts: white
                                    background: rgba(80, 80, 80, .8 )
                  - column: 2
                    tileOnRow: 6
                    entities:
                      - title: Servidor de Mídia
                        entities:
                          - custom: KODI STEP -
                            halfheight: true
                            wider: true
                            widerSize: 2
                            icon: mdi:rewind-10
                            tap_action:
                              haptic: light
                              action: call-service
                              service: kodi.call_method
                              service_data:
                                entity_id: media_player.sala_de_estar_kodi
                                method: Input.ExecuteAction
                                action: stepback
                          - custom: KODI STOP
                            halfheight: true
                            wider: true
                            widerSize: 2
                            icon: mdi:stop
                            tap_action:
                              haptic: light
                              action: call-service
                              service: kodi.call_method
                              service_data:
                                entity_id: media_player.sala_de_estar_kodi
                                method: Input.ExecuteAction
                                action: stop
                          - custom: KODI STEP +
                            halfheight: true
                            wider: true
                            widerSize: 2
                            icon: mdi:fast-forward-10
                            tap_action:
                              haptic: light
                              action: call-service
                              service: kodi.call_method
                              service_data:
                                entity_id: media_player.sala_de_estar_kodi
                                method: Input.ExecuteAction
                                action: stepforward
                          - custom: Procurar legendas
                            name: Procurar legendas
                            wider: true
                            widerSize: 3
                            halfheight: true
                            icon: mdi:subtitles-outline
                            tap_action:
                              haptic: light
                              action: call-service
                              service: kodi.call_method
                              service_data:
                                entity_id: media_player.sala_de_estar_kodi
                                method: GUI.ActivateWindow
                                window: subtitlesearch
                          - custom: Mostrar legendas
                            name: Mostrar legendas
                            wider: true
                            widerSize: 3
                            halfheight: true
                            icon: mdi:subtitles
                            tap_action:
                              haptic: light
                              action: call-service
                              service: kodi.call_method
                              service_data:
                                entity_id: media_player.sala_de_estar_kodi
                                method: Input.ExecuteAction
                                action: showsubtitles
                          - custom: Atualizar biblioteca de filmes
                            name: Atualizar filmes
                            wider: true
                            widerSize: 3
                            halfheight: true
                            icon: mdi:movie-open-outline
                            tap_action:
                              haptic: light
                              action: call-service
                              service: kodi.call_method
                              service_data:
                                entity_id: media_player.sala_de_estar_kodi
                                method: VideoLibrary.Scan
                          - custom: Limpar biblioteca de filmes
                            name: Limpar filmes
                            wider: true
                            widerSize: 3
                            halfheight: true
                            icon: mdi:movie-open-off-outline
                            tap_action:
                              haptic: light
                              action: call-service
                              service: kodi.call_method
                              service_data:
                                entity_id: media_player.sala_de_estar_kodi
                                method: VideoLibrary.Clean
                          - custom: Atualizar biblioteca de filmes
                            name: Atualizar filmes
                            wider: true
                            widerSize: 3
                            halfheight: true
                            icon: mdi:music-note-outline
                            tap_action:
                              haptic: light
                              action: call-service
                              service: kodi.call_method
                              service_data:
                                entity_id: media_player.sala_de_estar_kodi
                                method: AudioLibrary.Scan
                          - custom: Limpar Músicas
                            name: Limpar Músicas
                            wider: true
                            widerSize: 3
                            halfheight: true
                            icon: mdi:music-note-off-outline
                            tap_action:
                              haptic: light
                              action: call-service
                              service: kodi.call_method
                              service_data:
                                entity_id: media_player.sala_de_estar_kodi
                                method: AudioLibrary.Clean
          - type: vertical-stack
            cards:
              - type: markdown
                content: |
                  <h3><font color = #0a0a6b>  Em cartaz</font></h3>
                style: |
                  ha-card {
                   {% if states['media_player.sala_de_estar_lg'    ].attributes.source             != 'MXQ' 
                      or states['media_player.sala_de_estar_shield'].attributes.app_name           != 'Kodi'
                      or states['media_player.sala_de_estar_kodi'  ].attributes.media_content_type == 'music'
                      or ( states['media_player.sala_de_estar_kodi'].state != 'playing' 
                       and states['media_player.sala_de_estar_kodi'].state != 'paused' ) %}
                   {%   print 'display: none;' %}
                   {% endif %}
                   
                   background: transparent;
                   border-style: none!important;
                   border: 0px!important;
                  }
              - type: custom:mod-card
                style: |
                  ha-card {
                   {% set o = state_attr('sensor.sala_de_estar_kodi', 'data') | from_json %}
                   {% if states['media_player.sala_de_estar_lg'    ].attributes.source             == 'MXQ' 
                     and states['media_player.sala_de_estar_shield'].attributes.app_name           == 'Kodi'
                     and states['media_player.sala_de_estar_kodi'  ].attributes.media_content_type != 'music'
                     and ( states['media_player.sala_de_estar_kodi'].state == 'playing' 
                        or states['media_player.sala_de_estar_kodi'].state == 'paused' ) %}
                   {%   print 'background: url(' + o[0].thumbnail + ');' %}
                   {%   print 'background-position: left!important;' %}
                   {%   print 'background-repeat: no-repeat;' %}
                   {%   print 'background-size: cover;' %}
                   {%   print 'border-radius: 0px;' %}
                   {%   print 'border-style:solid;' %}
                   {%   print 'border-width:2px;' %}
                   {%   print 'border-color: #ffffff;' %}
                   {%   print 'box-shadow: 0px 0px 3px 3px #CCC!important;' %}      
                   {%   print 'overflow:hidden!important;' %} 
                   {%   print 'width: 360px;' %}
                   {%   print 'height: 540px;' %}
                   {%   print 'margin-right: 20px;' %}
                   {%   print 'margin-left: 20px;' %}
                   {% else %}
                   {%   print 'display: none;' %}
                   {% endif %}
                   }
                card:
                  type: custom:homekit-card
                  style: |
                    :host {
                        --tile-background: rgba(255, 255, 255, 0.1);
                        --tile-border-radius: 10px;
                        --tile-on-background: rgba(255, 255, 255, 0.5);
                        --tile-name-text-color: rgba(0, 0, 0, 0.7);
                        --tile-on-name-text-color: rgba(0, 0, 0, 1);
                        --tile-state-text-color: rgba(0, 0, 0, 0.7);
                        --tile-on-state-text-color: rgba(0, 0, 0, 1);
                        --tile-state-changed-text-color: rgb(134, 134, 134);
                        --tile-unavailable-state-text-color: rgba(255, 0, 0, 1);
                        --tile-value-text-color: rgba(255, 0, 0, 1);
                        --tile-icon-color: rgba(0, 0, 0, 0.7);
                        --tile-on-icon-color: #0a0a6b;
                        --min-header-height: 150px;
                        --tile-icon-size: 20px;
                        --tile-image-radius: 100%
                        --slider-width: 120px;
                        --slider-height: 120px;
                        --tile-width-mobile: 30px;
                        --tile-height-mobile: 85px;
                        --tile-width: 30px;
                        --tile-height: 85px;
                     }
                  entities:
                    - entities:
                        - custom: KARAOKE
                          icon: mdi:speaker
                          conditionalClass: '[[[return "transparente";]]]'
                          halfheight: true
                          tap_action:
                            action: call-service
                            haptic: success
                            service: switch.toggle
                            service_data:
                              entity_id: switch.sonoff_1000177267
                        - custom: NET
                          icon: mdi:dot-net
                          conditionalClass: '[[[return "transparente";]]]'
                          halfheight: true
                          tap_action:
                            action: call-service
                            haptic: success
                            service: script.turn_on
                            service_data:
                              entity_id: script.sala_de_estar_net
                        - custom: APPLE
                          icon: mdi:apple
                          conditionalClass: '[[[return "transparente";]]]'
                          halfheight: true
                          tap_action:
                            action: call-service
                            haptic: success
                            service: script.turn_on
                            service_data:
                              entity_id: script.sala_de_estar_appletv
          - type: custom:homekit-card
            enableColumns: true
            tileHoldAnimation: true
            style: |
              :host {
                  --tile-background: rgba(255, 255, 255, 0.3);
                  --tile-border-radius: 10px;
                  --tile-on-background: rgba(255, 255, 255, 0.7);
                  --tile-name-text-color: rgba(0, 0, 0, 0.7);
                  --tile-on-name-text-color: rgba(0, 0, 0, 1);
                  --tile-state-text-color: rgba(0, 0, 0, 0.7);
                  --tile-on-state-text-color: rgba(0, 0, 0, 1);
                  --tile-state-changed-text-color: rgb(134, 134, 134);
                  --tile-unavailable-state-text-color: rgba(255, 0, 0, 1);
                  --tile-value-text-color: rgba(255, 0, 0, 1);
                  --tile-icon-color: rgba(0, 0, 0, 0.7);
                  --tile-on-icon-color: #0a0a6b;
                  --min-header-height: 150px;
                  --tile-icon-size: 20px;
                  --tile-image-radius: 100%
                  --slider-width: 120px;
                  --slider-height: 120px;
                  --tile-width-mobile: 90px;
                  --tile-height-mobile: 90px;
                  --tile-width: 90px;
                  --tile-height: 90px;
                  position: relative;
               }
              .transparente {
                 background-color: transparent!important;
                 border: 0!important;
                 box-shadow: none!important;
              }
              .fundo {
                 background-color: rgba(255,255,255,1)!important;
                 background-image: url(http://192.168.1.230:8123/local/b.jpg)!important;
                 background-size: cover!important;
                 background-repeat: no-repeat!important;
                 background-position: center!important;
              }
              .transparente2 {
                 background-color: rgba(255, 255, 255, 0.4)!important;
                 border: 0!important;
                 box-shadow: none!important;
              }
              .transparente .button-inner {
                flex-direction: column!important; 
              }
              .transparente .name {
                display: none!important; 
              }
              .transparente .icon {
                display: block;
                margin-left: auto;
                margin-right: auto;
              }
              .transparente2 .state {
                display: none!important; 
              }
              .card-title {
                color: #0a0a6b;
              }
            rows:
              - row: 1
                columns:
                  - column: 1
                    tileOnRow: 3
                    entities:
                      - title: Sala de Estar
                        popup:
                          type: custom:light-popup-card
                        entities:
                          - entity: switch.sonoff_1000161cd3_2
                            tap_action:
                              action: toggle
                              haptic: light
                              entity: switch.sonoff_1000161cd3_2
                          - entity: switch.sonoff_1000161cd3_4
                            tap_action:
                              action: toggle
                              haptic: light
                              entity: switch.sonoff_1000161cd3_4
                          - entity: switch.sonoff_1000161cd3_3
                            tap_action:
                              action: toggle
                              haptic: light
                              entity: switch.sonoff_1000161cd3_3
                      - title: Sala de Jantar
                        popup:
                          type: custom:light-popup-card
                        entities:
                          - entity: switch.sonoff_10007b7302_3
                            tap_action:
                              action: toggle
                              haptic: light
                              entity: switch.sonoff_10007b7302_3
                          - entity: switch.sonoff_10007b7302_2
                            tap_action:
                              action: toggle
                              haptic: light
                              entity: switch.sonoff_10007b7302_2
                          - entity: switch.sonoff_100046a3ee_4
                            tap_action:
                              action: toggle
                              haptic: light
                              entity: switch.sonoff_100046a3ee_4
                      - title: Quitutes da Deia
                        popup:
                          type: custom:light-popup-card
                        entities:
                          - entity: switch.sonoff_100046a3ee_3
                            tap_action:
                              action: toggle
                              haptic: light
                              entity: switch.sonoff_100046a3ee_3
                          - entity: switch.sonoff_10007b7302_1
                            tap_action:
                              action: toggle
                              haptic: light
                              entity: switch.sonoff_10007b7302_1
                          - entity: switch.sonoff_10007b7302_4
                            tap_action:
                              action: toggle
                              haptic: light
                              entity: switch.sonoff_10007b7302_4
                      - title: Escritório & Hall
                        popup:
                          type: custom:light-popup-card
                        entities:
                          - entity: switch.sonoff_1000177268
                            tap_action:
                              action: toggle
                              haptic: light
                              entity: switch.sonoff_1000177268
                          - entity: switch.sonoff_100046a3ee_1
                            tap_action:
                              action: toggle
                              haptic: light
                              entity: switch.sonoff_100046a3ee_1
                          - entity: switch.sonoff_100046a3ee_2
                            tap_action:
                              action: toggle
                              haptic: light
                              entity: switch.sonoff_100046a3ee_2
      - type: custom:config-template-card
        variables:
          getPoster: |
            temp => {
              var a = states['sensor.sala_de_estar_kodi'].attributes.data;
              var b = JSON.parse (a)
              return b[0].thumbnail;
            }
        entities:
          - sensor.sala_de_estar_kodi
        card:
          type: picture
          image: ${getPoster()}
  - title: ''
    path: quarto-de-hospedes
    theme: clear
    panel: true
    icon: mdi:bed
    badges: []
    cards:
      - type: custom:config-template-card
        variables:
          PLAYER: |
            states['media_player.quarto_de_hospedes_lg'].state != 'on' ? 
              'NONE' : 
              ( states['media_player.quarto_de_hospedes_lg'].attributes.source == "HDMI2" ?
                'google' :
                ( states['media_player.quarto_de_hospedes_lg'].attributes.source == "HDMI3" ? 
                  'apple':'lg' ) )
          ESTADO: |
            states['media_player.quarto_de_hospedes_lg'].state != 'on' ? 
             'NONE' : 
             ( states['media_player.quarto_de_hospedes_lg'].attributes.source == 'HDMI3' ?
               states['media_player.quarto_de_hospedes_apple' ].state :
               ( states['media_player.quarto_de_hospedes_lg'].attributes.source == 'HDMI2' ? 
                 states['media_player.quarto_de_hospedes_google' ].state :
                 states['media_player.quarto_de_hospedes_lg' ].state ) )
          HIDE_APPLE: >
            states['media_player.quarto_de_hospedes_lg'].state == "off" || 
            states['media_player.quarto_de_hospedes_lg'].attributes.source !=
            "HDMI3" ?
                '[[[return 1]]]':'[[[return 0]]]'
          HIDE_LG: >
            states['media_player.quarto_de_hospedes_lg'].state == "off" || 
            states['media_player.quarto_de_hospedes_lg'].attributes.source ==
            "HDMI3" ?
                '[[[return 1]]]':'[[[return 0]]]'
                        
        entities:
          - media_player.quarto_de_hospedes_lg
          - media_player.quarto_de_hospedes_apple
          - media_player.quarto_de_hospedes_google
          - switch.sonoff_100094bbb0_1
          - switch.sonoff_100094bbb0_2
          - switch.sonoff_100094bbb0_3
          - switch.sonoff_100046a3ee_1
          - switch.sonoff_100046a3ee_2
        card:
          type: custom:homekit-card
          enableColumns: true
          tileHoldAnimation: true
          style: |
            :host {
                --tile-background: rgba(255, 255, 255, 0.5);
                --tile-border-radius: 10px;
                --tile-on-background: rgba(255, 255, 255, 0.7);
                --tile-name-text-color: rgba(0, 0, 0, 0.7);
                --tile-on-name-text-color: rgba(0, 0, 0, 1);
                --tile-state-text-color: rgba(0, 0, 0, 0.7);
                --tile-on-state-text-color: rgba(0, 0, 0, 1);
                --tile-state-changed-text-color: rgb(134, 134, 134);
                --tile-unavailable-state-text-color: rgba(255, 0, 0, 1);
                --tile-value-text-color: rgba(255, 0, 0, 1);
                --tile-icon-color: rgba(0, 0, 0, 0.7);
                --tile-on-icon-color: #0a0a6b;
                --min-header-height: 150px;
                --tile-icon-size: 20px;
                --tile-image-radius: 100%
                --slider-width: 120px;
                --slider-height: 120px;
                --tile-width-mobile: 90px;
                --tile-height-mobile: 90px;
                --tile-width: 90px;
                --tile-height: 90px;
             }
            .transparente {
               background-color: transparent!important;
               border: 0!important;
               box-shadow: none!important;
            }
            .transparente2 {
               background-color: rgba(255, 255, 255, 0.4)!important;
               border: 0!important;
               box-shadow: none!important;
            }
            .transparente .button-inner {
              flex-direction: column!important; 
            }
            .transparente .name {
              display: none!important; 
            }
            .transparente2 .state {
              display: none!important; 
            }
            .card-title {
              color: #0a0a6b;
            }
            .fundo {
               background-color: rgba(255,255,255,1)!important;
               background-image: url(http://192.168.1.230:8123/local/c.png)!important;
               background-size: cover!important;
               background-repeat: no-repeat!important;
               background-position: center!important;
            }
          rows:
            - row: 1
              columns:
                - column: 1
                  tileOnRow: 3
                  entities:
                    - entities:
                        - custom: Power
                          icon: mdi:power
                          halfheight: true
                          wider: true
                          widerSize: 3
                          tap_action:
                            action: call-service
                            service: script.quarto_de_hospedes_off
                            haptic: success
            - row: 2
              columns:
                - column: 1
                  tileOnRow: 3
                  entities:
                    - entities:
                        - card: conditional
                          conditionalClass: '[[[return "fundo";]]]'
                          noPadding: true
                          wider: true
                          widerSize: 3
                          higher: true
                          higherSize: |-
                            ${ PLAYER == "lg"    ? 1 :
                               PLAYER == "apple" && ( ESTADO == 'playing' || ESTADO == 'paused' ) ? 3 :
                               PLAYER == "google"? 2 : 2 }
                          cardOptions:
                            conditions:
                              - entity: media_player.quarto_de_hospedes_lg
                                state: 'on'
                            card:
                              type: custom:mini-media-player
                              entity: ${"media_player.quarto_de_hospedes_" + PLAYER}
                              artwork: |-
                                ${ PLAYER == "lg"    ? "default"        :
                                   PLAYER == "apple" ? "full-cover"     :
                                   PLAYER == "google"? "full-cover" : "full-cover" }
                              hide:
                                play_stop: false
                                volume: false
                                progress: false
                        - custom: LG MENU
                          icon: mdi:menu
                          hide: ${HIDE_LG}
                          conditionalClass: '[[[return "transparente";]]]'
                          tap_action:
                            action: call-service
                            haptic: light
                            service: webostv.button
                            service_data:
                              entity_id: media_player.quarto_de_hospedes_lg
                              button: MENU
                        - custom: LG UP
                          icon: mdi:arrow-up-circle-outline
                          hide: ${HIDE_LG}
                          tap_action:
                            action: call-service
                            haptic: selection
                            service: webostv.button
                            service_data:
                              entity_id: media_player.quarto_de_hospedes_lg
                              button: UP
                        - custom: LG INFO
                          icon: mdi:information-outline
                          hide: ${HIDE_LG}
                          conditionalClass: '[[[return "transparente";]]]'
                          tap_action:
                            action: call-service
                            haptic: selection
                            service: webostv.button
                            service_data:
                              entity_id: media_player.quarto_de_hospedes_lg
                              button: INFO
                        - custom: LG LEFT
                          icon: mdi:arrow-left-circle-outline
                          hide: ${HIDE_LG}
                          tap_action:
                            action: call-service
                            haptic: selection
                            service: webostv.button
                            service_data:
                              entity_id: media_player.quarto_de_hospedes_lg
                              button: LEFT
                        - custom: LG ENTER
                          icon: mdi:television
                          hide: ${HIDE_LG}
                          tap_action:
                            action: call-service
                            haptic: selection
                            service: webostv.button
                            service_data:
                              entity_id: media_player.quarto_de_hospedes_lg
                              button: ENTER
                        - custom: LG RIGHT
                          icon: mdi:arrow-right-circle-outline
                          hide: ${HIDE_LG}
                          tap_action:
                            action: call-service
                            haptic: selection
                            service: webostv.button
                            service_data:
                              entity_id: media_player.quarto_de_hospedes_lg
                              button: RIGHT
                        - custom: LG HOME
                          icon: mdi:home
                          hide: ${HIDE_LG}
                          conditionalClass: '[[[return "transparente";]]]'
                          tap_action:
                            action: call-service
                            haptic: selection
                            service: webostv.button
                            service_data:
                              entity_id: media_player.quarto_de_hospedes_lg
                              button: HOME
                        - custom: LG DOWN
                          icon: mdi:arrow-down-circle-outline
                          hide: ${HIDE_LG}
                          tap_action:
                            action: call-service
                            haptic: selection
                            service: webostv.button
                            service_data:
                              entity_id: media_player.quarto_de_hospedes_lg
                              button: DOWN
                        - custom: LG BACK
                          icon: mdi:undo-variant
                          hide: ${HIDE_LG}
                          conditionalClass: '[[[return "transparente";]]]'
                          tap_action:
                            action: call-service
                            haptic: selection
                            service: webostv.button
                            service_data:
                              entity_id: media_player.quarto_de_hospedes_lg
                              button: BACK
                        - custom: APPLE MENU
                          hide: ${HIDE_APPLE}
                          conditionalClass: '[[[return "transparente";]]]'
                          tap_action:
                            action: call-service
                            haptic: light
                            service: remote.send_command
                            service_data:
                              command: menu
                              entity_id: remote.quarto_apple
                        - custom: APPLE UP
                          icon: mdi:arrow-up-circle
                          hide: ${HIDE_APPLE}
                          tap_action:
                            action: call-service
                            haptic: selection
                            service: remote.send_command
                            service_data:
                              entity_id: remote.quarto_apple
                              command: up
                        - custom: APPLE HOME
                          icon: mdi:information
                          hide: ${HIDE_APPLE}
                          conditionalClass: '[[[return "transparente";]]]'
                          tap_action:
                            action: call-service
                            haptic: selection
                            service: remote.send_command
                            service_data:
                              entity_id: remote.quarto_apple
                              command: home_hold
                        - custom: APPLE LEFT
                          icon: mdi:arrow-left-circle
                          hide: ${HIDE_APPLE}
                          tap_action:
                            action: call-service
                            haptic: selection
                            service: remote.send_command
                            service_data:
                              entity_id: remote.quarto_apple
                              command: left
                        - custom: APPLE ENTER
                          icon: mdi:apple
                          hide: ${HIDE_APPLE}
                          tap_action:
                            action: call-service
                            haptic: selection
                            service: remote.send_command
                            service_data:
                              entity_id: remote.quarto_apple
                              command: select
                          hold_action:
                            action: call-service
                            haptic: selection
                            service: remote.send_command
                            service_data:
                              entity_id: remote.quarto_apple
                              command: home_hold
                        - custom: APPLE RIGHT
                          icon: mdi:arrow-right-circle
                          hide: ${HIDE_APPLE}
                          tap_action:
                            action: call-service
                            haptic: selection
                            service: remote.send_command
                            service_data:
                              entity_id: remote.quarto_apple
                              command: right
                        - custom: APPLE MENU
                          icon: mdi:home
                          hide: ${HIDE_APPLE}
                          conditionalClass: '[[[return "transparente";]]]'
                          tap_action:
                            action: call-service
                            haptic: selection
                            service: remote.send_command
                            service_data:
                              entity_id: remote.quarto_apple
                              command: top_menu
                        - custom: APPLE DOWN
                          icon: mdi:arrow-down-circle
                          hide: ${HIDE_APPLE}
                          tap_action:
                            action: call-service
                            haptic: selection
                            service: remote.send_command
                            service_data:
                              entity_id: remote.quarto_apple
                              command: down
                        - custom: APPLE MENU
                          icon: mdi:undo-variant
                          hide: ${HIDE_APPLE}
                          conditionalClass: '[[[return "transparente";]]]'
                          tap_action:
                            action: call-service
                            haptic: selection
                            service: remote.send_command
                            service_data:
                              entity_id: remote.quarto_apple
                              command: menu
                - column: 2
                  tileOnRow: 3
                  entities:
                    - title: Canais
                      entities:
                        - custom: NETFLIX
                          icon: mdi:netflix
                          halfheight: true
                          tap_action:
                            action: call-service
                            haptic: selection
                            service: script.turn_on
                            service_data:
                              entity_id: script.quarto_de_hospedes_netflix
                          hold_action:
                            action: fire-dom-event
                            browser_mod:
                              command: popup
                              title: LG
                              card:
                                type: custom:lg-remote-control
                                entity: media_player.quarto_de_hospedes_lg
                                dimensions:
                                  scale: 0.98
                                  border_width: 0px
                                colors:
                                  buttons: rgba(255,255,255,0.3)
                                  texts: white
                                  background: rgba(80, 80, 80, .8 )
                        - custom: APPLETV
                          icon: mdi:apple
                          tap_action:
                            action: call-service
                            haptic: selection
                            service: script.turn_on
                            service_data:
                              entity_id: script.quarto_de_hospedes_appleTV
                          halfheight: true
                          hold_action:
                            action: fire-dom-event
                            browser_mod:
                              command: popup
                              title: ATV
                              card:
                                type: custom:generic-remote-control-card
                                remote_template: mibox
                                name: ''
                                buttons:
                                  power:
                                    call: script.quarto_de_hospedes_AppleTV
                                  back:
                                    call: remote.send_command
                                    data:
                                      command: menu
                                      entity_id: remote.quarto_apple
                                  bottom:
                                    call: remote.send_command
                                    data:
                                      command: down
                                      entity_id: remote.quarto_apple
                                  clickleft:
                                    call: remote.send_command
                                    data:
                                      command: left
                                      entity_id: remote.quarto_apple
                                  clickright:
                                    call: remote.send_command
                                    data:
                                      command: right
                                      entity_id: remote.quarto_apple
                                  home:
                                    call: remote.send_command
                                    data:
                                      command: top_menu
                                      entity_id: remote.quarto_apple
                                  microphone:
                                    call: remote.send_command
                                    data:
                                      command: home_hold
                                      entity_id: remote.quarto_apple
                                  ok:
                                    call: remote.send_command
                                    data:
                                      command: select
                                      entity_id: remote.quarto_apple
                                  top:
                                    call: remote.send_command
                                    data:
                                      entity_id: remote.quarto_apple
                                      command: up
                                  volumedown:
                                    call: media_player.volume_down
                                    data:
                                      entity_id: media_player.quarto_de_hospedes_lg
                                  volumeup:
                                    call: media_player.volume_up
                                    data:
                                      entity_id: media_player.quarto_de_hospedes_lg
                        - custom: GOOGLE
                          icon: mdi:google
                          tap_action:
                            action: call-service
                            service: script.turn_on
                            haptic: selection
                            service_data:
                              entity_id: script.quarto_de_hospedes_google
                          halfheight: true
                        - custom: YOUTUBE
                          icon: mdi:youtube
                          tap_action:
                            action: call-service
                            haptic: selection
                            service: script.turn_on
                            service_data:
                              entity_id: script.quarto_de_hospedes_youtube
                          halfheight: true
            - row: 3
              columns:
                - column: 1
                  entities:
                    - title: Iluminação
                      popup:
                        type: custom:light-popup-card
                      entities:
                        - entity: switch.sonoff_100094bbb0_1
                        - entity: switch.sonoff_100094bbb0_2
                        - entity: switch.sonoff_100094bbb0_3
                - column: 2
                  entities:
                    - title: Acesso
                      popup:
                        type: custom:light-popup-card
                      entities:
                        - entity: switch.sonoff_100046a3ee_1
                        - entity: switch.sonoff_100046a3ee_2
  - title: Sala de Projeção & SPA
    path: sala-de-projecao--and-spa
    icon: mdi:projector
    panel: true
    theme: clear
    badges: []
    cards:
      - type: custom:homekit-card
        style: |
          :host {
            --tile-background: rgba(255, 255, 255, 0.5);
            --tile-border-radius: 12px;
            --tile-width: 100px;
            --tile-height: 100px;
            --tile-on-background: rgba(255, 255, 255, 0.6);
            
            --tile-name-text-color: rgba(0, 0, 0, 0.4);
            --tile-on-name-text-color: rgba(0, 0, 0, 1);
            
            --tile-state-text-color: rgba(0, 0, 0, 0.4);
            --tile-on-state-text-color: rgba(0, 0, 0, 1);
            
            --tile-state-changed-text-color: rgb(134, 134, 134);
            --tile-unavailable-state-text-color: rgba(255, 0, 0, 1);
            
            --tile-value-text-color: rgba(255, 0, 0, 1);
            
            
            --tile-icon-color: rgba(0, 0, 0, 0.3);
            --tile-on-icon-color: #0a0a6b;
            
            
            --tile-width-mobile: 90px;
            --tile-height-mobile: 90px;
            --min-header-height: 150px;
            --tile-icon-size: 30px;
            --tile-image-radius: 100%
            --slider-width: 120px;
            --slider-height: 120px;
          }
          .card-title {
            color: #0a0a6b;
          }
        enableColumns: true
        tileHoldAnimation: true
        rows:
          - row: 1
            columns:
              - column: 1
                entities:
                  - entities:
                      - entity: zone.home
                        name: Desliga Tudo
                        icon: mdi:power
                        wider: true
                        widerSize: 3
                        halfheight: true
                        tap_action:
                          action: call-service
                          service: script.sala_de_projecao_off
                          confirmation:
                            text: Confirma?
          - row: 2
            columns:
              - column: 1
                tileOnRow: 3
                entities:
                  - title: Serviços de Mídia
                    entities:
                      - card: custom:mini-media-player
                        entity: media_player.cinema_google
                        noPadding: true
                        wider: true
                        widerSize: 3
                        higher: true
                        higherSize: 3
                        hide: |
                          [[[
                            return states['media_player.cinema_google'].state != "playing" 
                                && states['media_player.cinema_google'].state != "paused"  
                            ;
                          ]]]
                        double_tap_action:
                          action: popup
                          entity: media_player.cinema_google
                        cardStyle: |
                          ha-card {
                            height: 100%;
                            background: none  !important;
                            box-shadow: none !important;
                            position: relative;
                            font-size: 1.5vw !important;
                            image
                          }
                          ha-card{
                            overflow: hidden !important;
                          }
                          :host #primaryProgress{
                            background: #474A52 !important; 
                            display: flex !important;
                            height: 100%;
                          }
                        cardOptions:
                          entity: media_player.cinema_google
                          artwork: full-cover-fit
                          hide:
                            power: true
                            progress: false
                            runtime: false
                            icon: true
                            name: false
                            source: false
                            volume: false
                            controls: false
                      - entity: media_player.cinema_yamaha
                        wider: true
                        popup:
                          type: custom:media_player-popup-card
                          entity: this
                          actions:
                            - service: media_player.select_source
                              service_data:
                                entity_id: this
                                source: Apple TV
                              name: AppleTV
                              icon: mdi:apple
                            - service: media_player.select_source
                              service_data:
                                entity_id: this
                                source: ChomeCastr
                              name: ChromeCast
                              icon: mdi:google
                            - service: media_player.media_previous_track
                              service_data:
                                entity_id: this
                              name: previous
                              icon: mdi:skip-previous
                            - service: media_player.media_play_pause
                              service_data:
                                entity_id: this
                              name: play/pause
                              icon: mdi:play-pause
                            - service: media_player.media_next_track
                              service_data:
                                entity_id: this
                              name: next
                              icon: mdi:skip-next
                        tap_action:
                          action: call-service
                          service: media_player.toggle
                          service_data:
                            entity_id: media_player.cinema_yamaha
                      - entity: switch.ac
                        hold_action:
                          action: call-service
                          service: browser_mod.popup
                          service_data:
                            title: Temperatura
                            card:
                              type: entities
                              entities:
                                - input_number.sala_de_projecao_temperatura
                            device_ID:
                              - this
                        tap_action:
                          action: call-service
                          service: switch.toggle
                          service_data:
                            entity_id: switch.ac
                      - entity: switch.projetor
                        tap_action:
                          action: call-service
                          service: switch.toggle
                          service_data:
                            entity_id: switch.projetor
                      - entity: remote.cinema_apple
                        helfheight: true
                        tap_action:
                          action: call-service
                          service: script.sala_de_projecao_atv
                        hold_action:
                          action: call-service
                          service: browser_mod.popup
                          service_data:
                            title: Projeção | Apple
                            card:
                              type: custom:mod-card
                              card:
                                type: custom:generic-remote-control-card
                                remote_template: mibox
                                name: ''
                                buttons:
                                  power:
                                    call: script.iniciar_projecao_atv
                                  back:
                                    call: remote.send_command
                                    data:
                                      command: menu
                                      entity_id: remote.cinema_apple
                                  bottom:
                                    call: remote.send_command
                                    data:
                                      command: down
                                      entity_id: remote.cinema_apple
                                  clickleft:
                                    call: remote.send_command
                                    data:
                                      command: left
                                      entity_id: remote.cinema_apple
                                  clickright:
                                    call: remote.send_command
                                    data:
                                      command: right
                                      entity_id: remote.cinema_apple
                                  home:
                                    call: remote.send_command
                                    data:
                                      command: top_menu
                                      entity_id: remote.cinema_apple
                                  microphone:
                                    call: remote.send_command
                                    data:
                                      command: home_hold
                                      entity_id: remote.cinema_apple
                                  ok:
                                    call: remote.send_command
                                    data:
                                      command: select
                                      entity_id: remote.cinema_apple
                                  top:
                                    call: remote.send_command
                                    data:
                                      entity_id: remote.cinema_apple
                                      command: up
                                  volumedown:
                                    call: media_player.volume_down
                                    data:
                                      entity_id: media_player.cinema_yamaha
                                  volumeup:
                                    call: media_player.volume_up
                                    data:
                                      entity_id: media_player.cinema_yamaha
                      - entity: media_player.cinema_google
                        artwork: full-cover
                        tap_action:
                          action: call-service
                          service: script.sala_de_projecao_google
                        double_tap_action:
                          action: call-service
                          service: browser_mod.popup
                          service_data:
                            title: Projeção | Google
                            card:
                              type: custom:mod-card
                              style: |
                                ha-card {
                                  margin: auto;
                                  width: 95%;
                                }
                              card:
                                type: custom:generic-remote-control-card
                                remote_template: mibox
                                name: ''
                                buttons:
                                  power:
                                    call: script.iniciar_projecao_chromecast
                                  ok:
                                    call: media_player.media_play_pause
                                    data:
                                      entity_id: media_player.cinema_google
                                  top:
                                    call: media_player.media_previous_track
                                    data:
                                      entity_id: media_player.cinema_google
                                  bottom:
                                    call: media_player.media_next_track
                                    data:
                                      entity_id: media_player.cinema_google
                                  volumedown:
                                    call: media_player.volume_down
                                    data:
                                      entity_id: media_player.cinema_yamaha
                                  volumeup:
                                    call: media_player.volume_up
                                    data:
                                      entity_id: media_player.cinema_yamaha
              - column: 2
                tileOnRow: 3
                entities:
                  - title: Iluminação
                    popup:
                      type: custom:light-popup-card
                    entities:
                      - entity: switch.sonoff_1000161cd3_1
                      - entity: light.sonoff_1000d7ad3f
                        wider: true
                        slider: true
                      - entity: light.sonoff_1000d78c30
                      - entity: light.sonoff_1000d7963c
                      - entity: switch.sonoff_1000e93740_1
                      - entity: light.sonoff_1000d7976e
  - title: Pátio
    path: puxadinho
    theme: clear
    panel: true
    icon: mdi:grill
    badges: []
    cards:
      - type: custom:homekit-card
        style: |
          :host {
            --tile-background: rgba(255, 255, 255, 0.5);
            --tile-border-radius: 12px;
            --tile-width: 100px;
            --tile-height: 100px;
            --tile-on-background: rgba(255, 255, 255, 0.6);
            
            --tile-name-text-color: rgba(0, 0, 0, 0.4);
            --tile-on-name-text-color: rgba(0, 0, 0, 1);
            
            --tile-state-text-color: rgba(0, 0, 0, 0.4);
            --tile-on-state-text-color: rgba(0, 0, 0, 1);
            
            --tile-state-changed-text-color: rgb(134, 134, 134);
            --tile-unavailable-state-text-color: rgba(255, 0, 0, 1);
            
            --tile-value-text-color: rgba(255, 0, 0, 1);
            
            
            --tile-icon-color: rgba(0, 0, 0, 0.3);
            --tile-on-icon-color: #0a0a6b;
            
            
            --tile-width-mobile: 90px;
            --tile-height-mobile: 90px;
            --min-header-height: 150px;
            --tile-icon-size: 30px;
            --tile-image-radius: 100%
            --slider-width: 120px;
            --slider-height: 120px;
          }
          .card-title {
            color: #0a0a6b;
          }
        enableColumns: true
        tileHoldAnimation: true
        rows:
          - row: 1
            columns:
              - column: 1
                entities:
                  - entities:
                      - entity: zone.home
                        name: Desliga Tudo
                        icon: mdi:power
                        wider: true
                        widerSize: 3
                        halfheight: true
                        tap_action:
                          action: call-service
                          service: script.patio_off
                          confirmation:
                            text: Confirma?
          - row: 2
            columns:
              - column: 1
                tileOnRow: 3
                entities:
                  - title: Serviços de Mídia
                    entities:
                      - card: custom:mini-media-player
                        entity: media_player.patio_google
                        noPadding: true
                        wider: true
                        widerSize: 3
                        higher: true
                        higherSize: 3
                        hide: |
                          [[[
                            return states['media_player.patio_google'].state != "playing" 
                                && states['media_player.patio_google'].state != "paused"  
                            ;
                          ]]]
                        double_tap_action:
                          action: popup
                          entity: media_player.patio_google
                        cardStyle: |
                          ha-card {
                            height: 100%;
                            background: none  !important;
                            box-shadow: none !important;
                            position: relative;
                            font-size: 1vw !important;
                            image
                          }
                          ha-card {
                            overflow: hidden !important;
                          }
                          :host #primaryProgress {
                            background: #474A52 !important; 
                            display: flex !important;
                            height: 100%;
                          }
                        cardOptions:
                          artwork: full-cover
                          entity: media_player.patio_google
                          hide:
                            power: true
                            progress: false
                            runtime: false
                            icon: true
                            name: true
                            source: true
                            volume: false
                            controls: false
                      - entity: media_player.patio_yamaha
                        wider: true
                        popup:
                          type: custom:media_player-popup-card
                          entity: media_player.patio_yamaha
                          actions:
                            - service: media_player.media_previous_track
                              service_data:
                                entity_id: this
                              name: previous
                              icon: mdi:skip-previous
                            - service: media_player.media_play_pause
                              service_data:
                                entity_id: this
                              name: play/pause
                              icon: mdi:play-pause
                            - service: media_player.media_next_track
                              service_data:
                                entity_id: this
                              name: next
                              icon: mdi:skip-next
                        tap_action:
                          action: call-service
                          service: media_player.toggle
                          service_data:
                            entity_id: media_player.patio_yamaha
                      - entity: media_player.patio_google
                        tap_action:
                          action: call-service
                          service: browser_mod.popup
                          service_data:
                            title: Pátio | Google
                            card:
                              type: custom:mod-card
                              card:
                                type: custom:generic-remote-control-card
                                remote_template: mibox
                                name: ''
                                buttons:
                                  power:
                                    call: media_player.toggle
                                    data:
                                      entity_id: media_player.patio_google
                                  ok:
                                    call: media_player.media_play_pause
                                    data:
                                      entity_id: media_player.patio_google
                                  top:
                                    call: media_player.media_previous_track
                                    data:
                                      entity_id: media_player.patio_google
                                  bottom:
                                    call: media_player.media_next_track
                                    data:
                                      entity_id: media_player.patio_google
                                  volumedown:
                                    call: media_player.volume_down
                                    data:
                                      entity_id: media_player.patio_yamaha
                                  volumeup:
                                    call: media_player.volume_up
                                    data:
                                      entity_id: media_player.patio_yamaha
              - column: 2
                tileOnRow: 3
                entities:
                  - title: Iluminação
                    popup:
                      type: custom:light-popup-card
                    entities:
                      - entity: switch.sonoff_1000e93740_2
                      - entity: switch.sonoff_1000e93740_4
                        wider: true
                      - entity: switch.sonoff_1000e93740_3
                      - entity: switch.sonoff_1000161cd3_1
  - icon: mdi:wan
    panel: false
    theme: clear
    badges: []
    cards:
      - type: custom:swipe-card
        parameters:
          effect: coverflow
          coverflowEffect:
            rotate: 50
            stretch: 0
            depth: 100
            modifier: 2
            slideShadows: true
        cards:
          - type: custom:apexcharts-card
            apex_config:
              theme:
                mode: light
            header:
              show: true
              title: NET
              show_states: true
            all_series_config:
              opacity: 0.3
              type: area
              stroke_width: 1
              group_by:
                func: median
                duration: 15s
              show:
                extremas: true
            now:
              show: true
              label: agora
            yaxis:
              - id: NET
                min: 0
                max: 50
                apex_config:
                  forceNiceScale: true
                  decimalsInFloat: 1
            graph_span: 1h
            series:
              - entity: sensor.net_upload_mbps
                name: Upload
                yaxis_id: NET
              - entity: sensor.net_download_mbps
                name: Download
                yaxis_id: NET
          - type: custom:apexcharts-card
            apex_config:
              theme:
                mode: light
            header:
              show: true
              title: Loga
              show_states: true
            now:
              show: true
            all_series_config:
              opacity: 0.3
              type: area
              stroke_width: 1
              group_by:
                func: median
                duration: 15s
              show:
                extremas: true
            yaxis:
              - id: Loga
                min: 0
                max: 50
                apex_config:
                  forceNiceScale: true
                  decimalsInFloat: 1
            graph_span: 1h
            series:
              - entity: sensor.loga_upload_mbps
                name: Upload
                yaxis_id: Loga
              - entity: sensor.loga_download_mbps
                name: Download
                yaxis_id: Loga
          - type: custom:apexcharts-card
            apex_config:
              theme:
                mode: light
            header:
              show: true
              title: LAN
              show_states: true
            now:
              show: true
            all_series_config:
              opacity: 0.3
              type: area
              stroke_width: 1
              group_by:
                func: avg
                duration: 15s
              show:
                extremas: true
            yaxis:
              - id: LAN
                min: 0
                max: 70
                apex_config:
                  forceNiceScale: true
                  decimalsInFloat: 0
            graph_span: 1h
            series:
              - entity: sensor.lan_upload_mbps
                name: Upload
                yaxis_id: LAN
              - entity: sensor.lan_download_mbps
                name: Download
                yaxis_id: LAN
          - type: custom:apexcharts-card
            apex_config:
              theme:
                mode: light
            header:
              show: true
              title: SpeedTest
              show_states: true
            now:
              show: true
            all_series_config:
              opacity: 0.3
              type: area
              stroke_width: 1
              group_by:
                func: avg
                duration: 1h
              show:
                extremas: true
            yaxis:
              - id: Test
                min: 0
                max: 150
                apex_config:
                  forceNiceScale: true
                  decimalsInFloat: 0
            graph_span: 24h
            series:
              - entity: sensor.speedtest_upload
                name: Upload
                yaxis_id: Test
              - entity: sensor.speedtest_download
                name: Download
                yaxis_id: Test
      - type: history-graph
        entities:
          - entity: switch.net
          - entity: switch.loga
        hours_to_show: 24
        refresh_interval: 0
        title: WAN
  - icon: mdi:network
    theme: ''
    type: sidebar
    badges: []
    cards:
      - type: custom:homekit-card
        tileHoldAnimation: true
        style: |
          :host {
              --tile-background: rgba(128, 0, 0, 0.3);
              --tile-border-radius: 10px;
              --tile-on-background: rgba(0, 128, 0, 0.3);
              --tile-name-text-color: rgba(0, 0, 0, 0.7);
              --tile-on-name-text-color: rgba(0, 0, 0, 1);
              --tile-state-text-color: rgba(0, 0, 0, 0.7);
              --tile-on-state-text-color: rgba(0, 0, 0, 1);
              --tile-state-changed-text-color: rgb(134, 134, 134);
              --tile-unavailable-state-text-color: rgba(255, 0, 0, 1);
              --tile-value-text-color: rgba(255, 0, 0, 1);
              --tile-icon-color: rgba(0, 0, 0, 0.7);
              --tile-on-icon-color: #0a0a6b;
              --min-header-height: 150px;
              --tile-icon-size: 20px;
              --tile-image-radius: 100%
              --slider-width: 120px;
              --slider-height: 120px;
              --tile-width-mobile: 90px;
              --tile-height-mobile: 90px;
              --tile-width: 90px;
              --tile-height: 90px;
           }
        entities:
          - entities:
              - entity: switch.net
                tap_action:
                  action: toggle
                  haptic: light
                  entity: switch.net
              - entity: switch.loga
                tap_action:
                  action: toggle
                  haptic: light
                  entity: switch.loga
      - type: history-graph
        entities:
          - entity: sun.sun
          - entity: sensor.loga_status
          - entity: sensor.net_status
        hours_to_show: 24
        refresh_interval: 0
      - type: custom:htc-weather-card
        entity: weather.home
        sun: sun.sun
        high_low_entity:
          entity_id: sensor.time_utc
          name: UTC Time
        renderForecast: true
        theme:
          name: dusk
          weather_icon_set: default
      - type: entities
        entities:
          - entity: weather.home
